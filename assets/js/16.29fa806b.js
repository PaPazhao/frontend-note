(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{424:function(t,a,s){"use strict";s.r(a);var e=s(2),n=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("浏览器解析 HTML 的时候如果遇到 "),a("code",[t._v("<script><\/script>")]),t._v(" 标签会暂停 HTML 解析开始下载 JavaScript 脚本,等待脚本下载完毕后并且执行完毕后继续 HTML 的解析. 因此下载或者解析脚本会阻塞 HTML 解析的执行,如果这部分耗时比较长会导致白屏.")]),t._v(" "),a("p",[t._v("如果希望脚本等异步加载则可以使用 "),a("code",[t._v("async")]),t._v(" 或 "),a("code",[t._v("defer")]),t._v(" 属性")]),t._v(" "),a("h2",{attrs:{id:"async-异步脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#async-异步脚本"}},[t._v("#")]),t._v(" async 异步脚本")]),t._v(" "),a("p",[t._v("使用 "),a("code",[t._v("async")]),t._v(" 属性表示这段脚本是异步加载立即执行的.")]),t._v(" "),a("ul",[a("li",[t._v("异步加载")]),t._v(" "),a("li",[t._v("同步执行")])]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("async")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}}),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("注意: 由于下载过程是异步的,并且下载完成后立即执行. 因此他的执行的时候依赖的其他资源(例如操作 DOM)并不能保证准备好了.")]),t._v(" "),a("h2",{attrs:{id:"defer-延迟执行脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#defer-延迟执行脚本"}},[t._v("#")]),t._v(" defer 延迟执行脚本")]),t._v(" "),a("p",[t._v("使用 defer 表示这段脚本是异步加载的,等待文档解析完成触发 "),a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Window/DOMContentLoaded_event",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("DOMContentLoaded")]),a("OutboundLink")],1),t._v(" 事件前执行。")]),t._v(" "),a("ul",[a("li",[t._v("异步加载")]),t._v(" "),a("li",[t._v("延迟执行")])]),t._v(" "),a("div",{staticClass:"language-HTML extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("defer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}}),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("也就是说异步下载完毕后会等待 HTML 解析完毕后再执行. 如果有多个 defer 脚本浏览器会按照他们在 HTML 中出现的顺序来执行")])])}),[],!1,null,null,null);a.default=n.exports}}]);
<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>面试 | 备忘录</title>
    <meta name="generator" content="VuePress 1.9.8">
    
    <meta name="description" content="记录前端的知识点">
    
    <link rel="preload" href="/frontend-note/assets/css/0.styles.e64eb9b3.css" as="style"><link rel="preload" href="/frontend-note/assets/js/app.e26fa40b.js" as="script"><link rel="preload" href="/frontend-note/assets/js/3.6be66244.js" as="script"><link rel="preload" href="/frontend-note/assets/js/1.078955e0.js" as="script"><link rel="preload" href="/frontend-note/assets/js/31.19b002be.js" as="script"><link rel="prefetch" href="/frontend-note/assets/js/10.b0a8eb4c.js"><link rel="prefetch" href="/frontend-note/assets/js/11.aefccccc.js"><link rel="prefetch" href="/frontend-note/assets/js/12.fe104a48.js"><link rel="prefetch" href="/frontend-note/assets/js/13.e9416873.js"><link rel="prefetch" href="/frontend-note/assets/js/14.0076912c.js"><link rel="prefetch" href="/frontend-note/assets/js/15.effc299e.js"><link rel="prefetch" href="/frontend-note/assets/js/16.29fa806b.js"><link rel="prefetch" href="/frontend-note/assets/js/17.c94e5bb3.js"><link rel="prefetch" href="/frontend-note/assets/js/18.f417f921.js"><link rel="prefetch" href="/frontend-note/assets/js/19.560dd805.js"><link rel="prefetch" href="/frontend-note/assets/js/20.a9294711.js"><link rel="prefetch" href="/frontend-note/assets/js/21.e230b6e2.js"><link rel="prefetch" href="/frontend-note/assets/js/22.8bfdb328.js"><link rel="prefetch" href="/frontend-note/assets/js/23.06de620a.js"><link rel="prefetch" href="/frontend-note/assets/js/24.f1c97956.js"><link rel="prefetch" href="/frontend-note/assets/js/25.e5d3c4d4.js"><link rel="prefetch" href="/frontend-note/assets/js/26.868e8828.js"><link rel="prefetch" href="/frontend-note/assets/js/27.2ef5e3ad.js"><link rel="prefetch" href="/frontend-note/assets/js/28.bd94c004.js"><link rel="prefetch" href="/frontend-note/assets/js/29.6a07dbed.js"><link rel="prefetch" href="/frontend-note/assets/js/30.1773ccc5.js"><link rel="prefetch" href="/frontend-note/assets/js/32.6604fbd8.js"><link rel="prefetch" href="/frontend-note/assets/js/33.2c576a05.js"><link rel="prefetch" href="/frontend-note/assets/js/34.385ed8bc.js"><link rel="prefetch" href="/frontend-note/assets/js/35.2c71b406.js"><link rel="prefetch" href="/frontend-note/assets/js/36.0eacdb68.js"><link rel="prefetch" href="/frontend-note/assets/js/37.d88fb204.js"><link rel="prefetch" href="/frontend-note/assets/js/38.2155d20d.js"><link rel="prefetch" href="/frontend-note/assets/js/39.c143dc45.js"><link rel="prefetch" href="/frontend-note/assets/js/4.f12a6739.js"><link rel="prefetch" href="/frontend-note/assets/js/40.0a2212d1.js"><link rel="prefetch" href="/frontend-note/assets/js/41.9d314e7a.js"><link rel="prefetch" href="/frontend-note/assets/js/42.d9b8022c.js"><link rel="prefetch" href="/frontend-note/assets/js/43.7edcc15e.js"><link rel="prefetch" href="/frontend-note/assets/js/44.faba4113.js"><link rel="prefetch" href="/frontend-note/assets/js/45.61a1d70b.js"><link rel="prefetch" href="/frontend-note/assets/js/46.ab1f19ad.js"><link rel="prefetch" href="/frontend-note/assets/js/47.3c772500.js"><link rel="prefetch" href="/frontend-note/assets/js/5.fd8e4367.js"><link rel="prefetch" href="/frontend-note/assets/js/6.ce49d59a.js"><link rel="prefetch" href="/frontend-note/assets/js/7.f428d575.js"><link rel="prefetch" href="/frontend-note/assets/js/8.6b2ca14d.js"><link rel="prefetch" href="/frontend-note/assets/js/9.7000c83c.js">
    <link rel="stylesheet" href="/frontend-note/assets/css/0.styles.e64eb9b3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-7b55eae7><div data-v-7b55eae7><div class="password-shadow password-wrapper-out" style="display:none;" data-v-53026ee4 data-v-7b55eae7 data-v-7b55eae7><h3 class="title" data-v-53026ee4>备忘录</h3> <p class="description" data-v-53026ee4>记录前端的知识点</p> <label id="box" class="inputBox" data-v-53026ee4><input type="password" value="" data-v-53026ee4> <span data-v-53026ee4>Konck! Knock!</span> <button data-v-53026ee4>OK</button></label> <div class="footer" data-v-53026ee4><span data-v-53026ee4><i class="iconfont reco-theme" data-v-53026ee4></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-53026ee4>vuePress-theme-reco</a></span> <span data-v-53026ee4><i class="iconfont reco-copyright" data-v-53026ee4></i> <a data-v-53026ee4><!---->
          
        <!---->
        2023
      </a></span></div></div> <div class="hide" data-v-7b55eae7><header class="navbar" data-v-7b55eae7><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/frontend-note/" class="home-link router-link-active"><!----> <span class="site-name">备忘录</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/frontend-note/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      我的 JavaScript 博客
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.baidu.com" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  百度
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7b55eae7></div> <aside class="sidebar" data-v-7b55eae7><div class="personal-info-wrapper" data-v-def3fece data-v-7b55eae7><!----> <!----> <div class="num" data-v-def3fece><div data-v-def3fece><h3 data-v-def3fece>34</h3> <h6 data-v-def3fece>文章</h6></div> <div data-v-def3fece><h3 data-v-def3fece>0</h3> <h6 data-v-def3fece>标签</h6></div></div> <ul class="social-links" data-v-def3fece></ul> <hr data-v-def3fece></div> <nav class="nav-links"><div class="nav-item"><a href="/frontend-note/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      我的 JavaScript 博客
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.baidu.com" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  百度
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/frontend-note/css/defer-and-async" class="sidebar-heading clickable"><span>CSS</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/frontend-note/css/selector-priority.html" class="sidebar-link">CSS 的选择器的优先级</a></li><li><a href="/frontend-note/css/box.html" class="sidebar-link">CSS 的盒子模型</a></li><li><a href="/frontend-note/css/margin-collapsible.html" class="sidebar-link">CSS 的 margin 的传递和折叠问题</a></li><li><a href="/frontend-note/css/align.html" class="sidebar-link">CSS 的对齐</a></li><li><a href="/frontend-note/css/background.html" class="sidebar-link">CSS 的背景</a></li><li><a href="/frontend-note/css/position.html" class="sidebar-link">CSS 的定位</a></li><li><a href="/frontend-note/css/float.html" class="sidebar-link">CSS 的浮动</a></li><li><a href="/frontend-note/css/transform.html" class="sidebar-link">CSS 的 transform</a></li><li><a href="/frontend-note/css/transition.html" class="sidebar-link">CSS 的 transition</a></li><li><a href="/frontend-note/css/animation.html" class="sidebar-link">CSS 的 animation</a></li><li><a href="/frontend-note/css/vertical-align.html" class="sidebar-link">CSS 的 vertical-align</a></li><li><a href="/frontend-note/css/defer-and-async.html" class="sidebar-link">defer 和 async 有什么区别</a></li><li><a href="/frontend-note/css/head_image_center.html" class="sidebar-link">宽头图如何居中</a></li><li><a href="/frontend-note/css/margin-tips.html" class="sidebar-link">CSS Tips</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/frontend-note/javascript/index" class="sidebar-heading clickable"><span>JavaScript</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/frontend-note/javascript/event.html" class="sidebar-link">事件</a></li><li><a href="/frontend-note/javascript/arrow-function.html" class="sidebar-link">箭头函数的缺点</a></li><li><a href="/frontend-note/javascript/for-foreach.html" class="sidebar-link">for 和 forEach 哪个更快</a></li><li><a href="/frontend-note/javascript/void(0)-undefined.html" class="sidebar-link">为什么用 void 0 代替 undefined</a></li><li><a href="/frontend-note/javascript/how-to-for-in-enumerable-properte.html" class="sidebar-link">for-in 是如何遍历对象的</a></li><li><a href="/frontend-note/javascript/javascript-memory-leak.html" class="sidebar-link">JavaScript 内存泄漏有哪些? 场景有哪些</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/frontend-note/vue/index" class="sidebar-heading clickable"><span>Vue3</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/frontend-note/vue/vue-lifecyle.html" class="sidebar-link">vue 的生命周期</a></li><li><a href="/frontend-note/vue/pinia_base.html" class="sidebar-link">Pinia 的基础使用</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/frontend-note/interview/interview" class="sidebar-heading clickable open active"><span>面试</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/frontend-note/interview/interview.html" aria-current="page" class="active sidebar-link">面试</a></li><li><a href="/frontend-note/interview/vue.html" class="sidebar-link">vue</a></li><li><a href="/frontend-note/interview/handcoded.html" class="sidebar-link">手写代码</a></li><li><a href="/frontend-note/interview/cross-domain.html" class="sidebar-link">跨域访问</a></li><li><a href="/frontend-note/interview/reactive.html" class="sidebar-link">响应式原理</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-53026ee4 data-v-7b55eae7><h3 class="title" data-v-53026ee4>面试</h3> <!----> <label id="box" class="inputBox" data-v-53026ee4><input type="password" value="" data-v-53026ee4> <span data-v-53026ee4>Konck! Knock!</span> <button data-v-53026ee4>OK</button></label> <div class="footer" data-v-53026ee4><span data-v-53026ee4><i class="iconfont reco-theme" data-v-53026ee4></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-53026ee4>vuePress-theme-reco</a></span> <span data-v-53026ee4><i class="iconfont reco-copyright" data-v-53026ee4></i> <a data-v-53026ee4><!---->
          
        <!---->
        2023
      </a></span></div></div> <div data-v-7b55eae7><div data-v-7b55eae7><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">面试</h1> <div data-v-f219f0e8><!----> <!----> <!----> <!----></div></div> <div class="theme-reco-content content__default"><h1 id="连环问-vue-什么时候操作-dom-比较合适"><a href="#连环问-vue-什么时候操作-dom-比较合适" class="header-anchor">#</a> 连环问: Vue 什么时候操作 DOM 比较合适</h1> <ul><li><code>mounted</code> 和 <code>undated</code> 都不能保证子组件全部挂载完成</li> <li>使用 <code>$nextTick</code> 操作渲染 DOM</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 仅在整个视图都被渲染后才会运行的代码</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h1 id="连环问-ajax-应放在哪个生命周期"><a href="#连环问-ajax-应放在哪个生命周期" class="header-anchor">#</a> 连环问: Ajax 应放在哪个生命周期</h1> <p>有两个选择: <code>created</code> 和 <code>mounted</code></p> <p>个人推荐: <code>mounted</code>
理由: 当我们组件并不复杂,生命周期 <code>beforeCreate</code> -&gt; <code>created</code> -&gt; <code>beforeMount</code> -&gt; <code>mounted</code></p> <p>网络请求时间通常在几十几百毫秒甚至几秒的时间,相比网络请求来说从 <code>created</code> 到 <code>mounted</code> 经历的时间非常的短暂(ms级别), 甚至可以忽略不计. 他们的区别是并行还是串行</p> <h1 id="连环问-vue3-composition-api-生命周期有和区别"><a href="#连环问-vue3-composition-api-生命周期有和区别" class="header-anchor">#</a> 连环问: Vue3 Composition API 生命周期有和区别?</h1> <ul><li><code>setup</code> 代替了 <code>beforeCreate</code> 和 <code>created</code></li> <li>使用 hooks 函数形式, 如 <code>mounted</code> 改为 <code>onMounted</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> onMounted<span class="token punctuation">,</span> onUpdated <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'mounted'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token function">onUpdated</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'updated'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h1 id="内存泄漏的场景-以-vue-为例"><a href="#内存泄漏的场景-以-vue-为例" class="header-anchor">#</a> 内存泄漏的场景(以 Vue 为例)</h1> <ul><li>被全局变量/函数引用, 组件销毁时未清除</li> <li>被全局事件/定时器引用, 组件销毁时未清除</li> <li>被自定义事件引用, 组件销毁时未清除</li></ul> <h1 id="扩展-weakmap-和-weakset"><a href="#扩展-weakmap-和-weakset" class="header-anchor">#</a> 扩展: WeakMap 和 WeakSet</h1> <p>WeakMap 建立的是一种弱联系,他不影响垃圾回收.正因为如此他内部没有 size, length 这样的属性,因为他无法保证所引用对象的内存不被销毁. 所以他不会带来内存泄漏的一些风险,这就是他的价值</p> <p>WeakMap 的 key 只能是引用类型</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> wMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  wMap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token comment">// WeakMap 的 key 只能是引用类型</span>
<span class="token punctuation">}</span>

<span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
</code></pre></div><h1 id="浏览器和-nodejs-的事件循环有什么区别"><a href="#浏览器和-nodejs-的事件循环有什么区别" class="header-anchor">#</a> 浏览器和 nodejs 的事件循环有什么区别</h1> <ul><li>js 是单线程的(无论是浏览器还是 nodejs)</li> <li>浏览器中 js 执行和 DOM 渲染共用一个线程</li> <li>异步</li></ul> <h1 id="宏任务和微任务"><a href="#宏任务和微任务" class="header-anchor">#</a> 宏任务和微任务</h1> <ul><li>宏任务,如 setTimeout setInterval 网络请求</li> <li>微任务,如 Promise async/await</li> <li>微任务在下一轮 DOM 渲染之前执行, 宏任务在之后执行</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> p <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span>
p<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'new ....'</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>

<span class="token keyword">const</span> list <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'len...'</span><span class="token punctuation">,</span> list<span class="token punctuation">.</span>length<span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'start'</span><span class="token punctuation">)</span>

<span class="token comment">// 宏任务, DOM 渲染之后触发</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> list <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'setTimeout: len...'</span><span class="token punctuation">,</span> list<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'setTimeout'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 微任务, DOM 选择前触发</span>
Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> list <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Promise: len...'</span><span class="token punctuation">,</span> list<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Promise'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'end'</span><span class="token punctuation">)</span>
</code></pre></div><h1 id="nodejs-异步"><a href="#nodejs-异步" class="header-anchor">#</a> nodejs 异步</h1> <ul><li>Nodejs 同样使用 ES 语法,也是单线程,也需要异步</li> <li>异步任务也分: 宏任务 + 微任务</li> <li>但是他的宏任务和微任务分不同类型有不同优先级</li></ul> <p>nodejs 的宏任务</p> <ul><li>Timers - setTimeout/setInterval</li> <li>I/O callbacks - 处理网络/流/TCP的错误回调</li> <li>Idle, prepare - 闲置状态(nodejs 内部使用)</li> <li>Poll 轮训 - 执行 poll 中的 I/O 队列</li> <li>Check 检查 - 存储 setImmediate 回调</li> <li>Close callbacks - 关闭回调, 如 socket.on('close')</li></ul> <p>nodejs 的微任务</p> <ul><li>promise, async/await, process.nextTick</li> <li>process.nextTick 优先级最高</li></ul> <p>nodejs event loop</p> <ul><li>执行同步代码</li> <li>执行微任务代码(process.nextTick优先级更高)</li> <li>按顺序执行 6 个类型的宏任务(每个结束时都能执行当前的微任务)</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 1</span>
console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'start'</span><span class="token punctuation">)</span>
<span class="token comment">// 6</span>
<span class="token function">setImmediate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'setImmediate'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 5</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'setTimeout'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 4</span>
Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'Promise.then'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 3</span>
process<span class="token punctuation">.</span><span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'process.nextTick'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 2</span>
console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'end'</span><span class="token punctuation">)</span>
 
</code></pre></div><h1 id="vdom-真的很快吗"><a href="#vdom-真的很快吗" class="header-anchor">#</a> VDOM 真的很快吗?</h1> <ul><li>Virtual DOM, 虚拟 DOM</li> <li>用 JS 对象模拟 DOM 节点数据</li> <li>最先 React 使用</li></ul> <p>Vue React 等框架的价值</p> <ul><li>组件化</li> <li>数据视图分离,数据驱动视图,让我们把关注点放到了数据上. 这是框架的核心价值</li> <li>只关注业务数据, 而不再关心 DOM 变化</li></ul> <hr> <ul><li>从代码执行效率来讲 vdom 并不快, JS 直接操作 DOM 更快.</li> <li>数据驱动视图要有合适的技术方案,不能全部 DOM 重建</li> <li>vdom 就是目前最合适的计数方案(并不因为他快, 而是合适)</li></ul> <h1 id="遍历数组-for-和-foreach-哪个快"><a href="#遍历数组-for-和-foreach-哪个快" class="header-anchor">#</a> 遍历数组, for 和 forEach 哪个快</h1> <ul><li>for 更快.</li> <li>forEach 需要一个函数, 而 for 不需要.</li> <li>每次调用函数都涉及到了函数对象的创建和销毁</li> <li>函数需要独立的作用域,会有额外的开销</li> <li>越低级的代码性能往往越好</li></ul> <h1 id="nodejs-如何开启进程-进程如何通信"><a href="#nodejs-如何开启进程-进程如何通信" class="header-anchor">#</a> nodejs 如何开启进程, 进程如何通信?</h1> <ul><li><p>进程, os 进行资源分配和调度的最小单位, 有独立内存空间</p></li> <li><p>线程, os 进行运算调度的最小单位, 共享进程内存空间</p></li> <li><p>js 是单线程的,但可以开启多进程执行, 如 WebWorker</p></li> <li><p>os 给每个进程分配独立的内存空间, 默认进程和进程之间不能相互访问. 进程之间数据相互隔离的.</p></li> <li><p>每个进程可以有多个线程,线程共享进程的内存空间</p></li> <li><p>JS 可以开启多进程</p></li></ul> <h1 id="为何需要多进程"><a href="#为何需要多进程" class="header-anchor">#</a> 为何需要多进程</h1> <ul><li>多核CPU更适合处理多进程</li> <li>内存大,多个进程才能更好利用(单进程有内存上限)</li> <li>总之压榨机器资源,更快更节省</li></ul> <h1 id="移动端点击延迟-300ms-如何解决"><a href="#移动端点击延迟-300ms-如何解决" class="header-anchor">#</a> 移动端点击延迟 300ms 如何解决?</h1> <p>300ms 是因为早期的 iPHone 双击放大(double tap to zoom),检测双击的动作就需要 300ms 的延迟.</p> <ul><li>fastClick</li> <li>width=device-width</li></ul> <p>使用 Fastclick</p> <ul><li>监听 touchend 事件(touchstart 和 touchend 会优先 click 触发)</li> <li>使用自定义 DOM 事件 模拟一个 click 事件</li> <li>把默认的 click 事件(300ms 之后触发) 禁止</li></ul> <p>现代浏览器的改进</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span> 
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h1 id="section-和-cookie"><a href="#section-和-cookie" class="header-anchor">#</a> section 和 cookie</h1> <h2 id="cookie"><a href="#cookie" class="header-anchor">#</a> cookie</h2> <ul><li>用于登录验证,存储用户标识(如 userID)</li> <li>http 无状态,每次请求都要携带 cookie 用来识别身份</li> <li>服务端也可以向客户端 set-cookie, cookie 大小限制 4kb</li> <li>默认有跨域限制: 不能跨域共享/  不跨域传递 cookie</li></ul> <h3 id="跨域共享"><a href="#跨域共享" class="header-anchor">#</a> 跨域共享</h3> <p>例如访问一个网页 www.abc.com:8081 , 网页里面有 iframe 他用的是 www.abc.com:8082 . 这样的情况下 iframe 是不能访问网页的 cookie 的因为他是跨域的.</p> <h3 id="跨域传递"><a href="#跨域传递" class="header-anchor">#</a> 跨域传递</h3> <p>例如访问一个网页 www.abc.com:8081, 网页里面发送 ajax 请求到服务端的 8083 端口, 这个时候默认是不能把 8081 的 cookie 传递给服务端的.</p> <p>前端设置 withCredentials 表明前端向跨域请求, 后端也得设置一下表示允许跨域</p> <h3 id="cookie-本地存储"><a href="#cookie-本地存储" class="header-anchor">#</a> cookie 本地存储</h3> <ul><li>HTML5 之前 cookie 常用来本地存储</li> <li>HTML5 之后推荐 localStorage 和 sessionStorage</li></ul> <h3 id="现代浏览器开始禁止第三方-cookie"><a href="#现代浏览器开始禁止第三方-cookie" class="header-anchor">#</a> 现代浏览器开始禁止第三方 cookie</h3> <ul><li><p>和跨域限制不同,这里是: 禁止网页引入的第三方 JS 设置 cookie</p></li> <li><p>打击第三方广告,保护用户隐私</p></li> <li><p>新增属性 SameSite: Strict/Lax/Node;</p></li> <li><p>cookie 用于登录验证,存储用户标识(如 userID)</p></li> <li><p>sesseion 在服务端,存储用户详细信息, 和cookie 信息一一对应</p></li> <li><p>cookie + session 是常见登录验证解决方案</p></li></ul> <p><img src="/docs/assets/img/cookie-session.png" alt="cookie 和 session"></p> <h1 id="token-vs-cookie"><a href="#token-vs-cookie" class="header-anchor">#</a> token vs cookie</h1> <ul><li>cookie 是 HTTP 规范,而 token 是自定义传递</li> <li>cookie 默认被浏览器存储, 而 token 需要自己存储</li> <li>token 默认没有跨域限制</li></ul> <h2 id="jwt"><a href="#jwt" class="header-anchor">#</a> JWT</h2> <ul><li><p>前端发起登录,后端验证成功后返回一个加密的 token</p></li> <li><p>前端自行存储这个 token(其中包含了用户信息,加密了)</p></li> <li><p>以后访问服务端接口,都带着这个token作为用户信息</p></li> <li><p>cookie 是 HTTP 标准,跨域限制,配合 session 使用</p></li> <li><p>token 无标准;无跨域限制;用于 JWT</p></li></ul> <h1 id="session-和-jwt-哪个更好"><a href="#session-和-jwt-哪个更好" class="header-anchor">#</a> session 和 jwt 哪个更好</h1> <h2 id="sesson-优点"><a href="#sesson-优点" class="header-anchor">#</a> sesson 优点</h2> <ul><li>原理简单,容易学习</li> <li>用户信息存储在服务端,可以快速封禁某个用户,方便集中管理</li></ul> <h2 id="session-缺点"><a href="#session-缺点" class="header-anchor">#</a> session 缺点</h2> <ul><li>占用服务端内存,硬件成本高</li> <li>多进程/多服务器的时候不好同步 --- 需要使用第三方缓存,如 redis</li> <li>默认有跨域限制</li></ul> <h2 id="jwt-有点"><a href="#jwt-有点" class="header-anchor">#</a> jwt 有点</h2> <ul><li>不占用服务端内存</li> <li>多进程/多服务器不受影响</li> <li>没有跨域限制</li></ul> <h2 id="jwt-缺点"><a href="#jwt-缺点" class="header-anchor">#</a> jwt 缺点</h2> <ul><li>用户信息存储在客户端,无法快速封禁某用户</li> <li>万一服务端秘钥被泄露,用户信息全部丢失</li> <li>token 体积一般大于 cookie, 会增加请求的数据量</li></ul> <h1 id="如何实现-sso-单点登录"><a href="#如何实现-sso-单点登录" class="header-anchor">#</a> 如何实现 SSO 单点登录</h1> <p>SSO就是单点登录的意思,就是当我登录一个站点,这个公司的相关站点都会被登录.</p> <h2 id="基于-cookie"><a href="#基于-cookie" class="header-anchor">#</a> 基于 cookie</h2> <ul><li>cookie 默认不可跨域共享,但有些情况下可设置为共享</li> <li>主域名相同,如 www.baidu.com image.baidu.com</li> <li>设置 cooki domain 为主域名即可共享 cookie</li></ul> <h2 id="sso"><a href="#sso" class="header-anchor">#</a> SSO</h2> <ul><li>主域名完全不同,则cookie无法共享
<img src="/docs/assets/img/sso.png" alt=""></li></ul> <h1 id="http-协议和-udp-协议有什么区别"><a href="#http-协议和-udp-协议有什么区别" class="header-anchor">#</a> HTTP 协议和 UDP 协议有什么区别</h1> <p>HTTP 是应用层协议, TCP/UDP 协议在传输层</p> <h1 id="http-协议-1-0-1-1-2-0-有什么区别"><a href="#http-协议-1-0-1-1-2-0-有什么区别" class="header-anchor">#</a> HTTP 协议 1.0 1.1 2.0 有什么区别?</h1> <h2 id="http-1-0"><a href="#http-1-0" class="header-anchor">#</a> HTTP 1.0</h2> <ul><li>最基础的 HTTP 协议</li> <li>支持基础的 GET POST 方法</li></ul> <h2 id="http-1-1"><a href="#http-1-1" class="header-anchor">#</a> HTTP 1.1</h2> <ul><li>缓存策略 cache-control E-tag 等</li> <li>支持长连接 connection: keep-alive, 一次 TCP 链接支持多次请求</li> <li>支持断点续传,状态码 206. 每次传一部分返回 206 状态码, 全部传完返回 200</li> <li>支持新的方法 PUT DELETE 等, 可用于 RestfulAPI</li></ul> <h2 id="http-2-0"><a href="#http-2-0" class="header-anchor">#</a> HTTP 2.0</h2> <ul><li>压缩 header 减少体积</li> <li>多路复用, 一次 TCP 链接中可以多个 HTTP 并发请求. 曾经优化多个 js/css 拼接成一个 js/css 减少请求次数优化性能</li> <li>服务端推送</li></ul> <h1 id="什么是-https-中间人攻击-如何预防"><a href="#什么是-https-中间人攻击-如何预防" class="header-anchor">#</a> 什么是 HTTPS 中间人攻击? 如何预防?</h1> <p><img src="/docs/assets/img/https.png" alt=""></p> <p><img src="/docs/assets/img/%E4%B8%AD%E9%97%B4%E4%BA%BA%E6%94%BB%E5%87%BB.png" alt=""></p> <h1 id="script-defer-和-async-有什么区别"><a href="#script-defer-和-async-有什么区别" class="header-anchor">#</a> <code>&lt;script&gt;</code> defer 和 async 有什么区别?</h1> <ul><li><p>通常 HTML 解析的时候遇到 <code>&lt;script&gt;</code> 会暂停解析然后去下载并且执行 <code>&lt;scrip&gt;</code> 后继续解析 HTML</p></li> <li><p>async 解析 HTML 的时候遇到 <code>&lt;script async&gt;</code> 后开启 script 下载 HTML 解析并不中断, 当 script 下载完毕开始执行的时候停止 HTML 解析等待 script 执行完毕后 HTML 继续解析</p></li> <li><p>defer 解析 HTML 的时候 遇到 <code>&lt;script defer&gt;</code> 后开启 script 下载HTML 解析并不中断, 当 script 下载完毕等待 HTML 解析完成后才执行 script</p></li></ul> <p><img src="/docs/assets/img/script-defer-async.png" alt=""></p> <h1 id="prefetch-和-dns-prefetch-有什么区别"><a href="#prefetch-和-dns-prefetch-有什么区别" class="header-anchor">#</a> prefetch 和 dns-prefetch 有什么区别?</h1> <h2 id="prefetch-和-preload"><a href="#prefetch-和-preload" class="header-anchor">#</a> prefetch 和 preload</h2> <ul><li>preload 资源在当前页面使用,会优先加载(马上就要用)</li> <li>prefetch 资源在未来页面使用,空闲时加载(未来要用)</li></ul> <p>例如新闻列表页面可能会打开某个新闻详情页面</p> <p><img src="/docs/assets/img/prefetch-preload.png" alt=""></p> <h2 id="dns-prefetch-和-preconnet"><a href="#dns-prefetch-和-preconnet" class="header-anchor">#</a> dns-prefetch 和 preconnet</h2> <ul><li>dns-prefetch 即 DNS 预查询</li> <li>preconnect 即 DNS 预链接</li></ul> <p><img src="/docs/assets/img/dns-prefetch-preconnect.png" alt=""></p> <ul><li>prefetch 是资源预获取(和preload相关)</li> <li>dns-prefetch 是 DNS 预查询(和 preconnect相关)</li></ul> <h1 id="你知道哪些前端攻击-如何预防"><a href="#你知道哪些前端攻击-如何预防" class="header-anchor">#</a> 你知道哪些前端攻击?如何预防?</h1> <h2 id="xss-跨站脚本攻击"><a href="#xss-跨站脚本攻击" class="header-anchor">#</a> XSS 跨站脚本攻击</h2> <ul><li>cross site script</li> <li>手段: 黑客将 js 代码插入到网页内容,渲染时执行 js 代码</li> <li>预防: 特殊字符替换(前端或者后端)</li></ul> <p>例如: 用户发帖的场景如果插入了脚步代码, 然后提交到服务器发帖成功.当这个帖子在展示的时候如果前后端都没有做预防很可能这段脚本会执行产生威胁.</p> <p><img src="/docs/assets/img/xss.png" alt=""></p> <p>Vue 和 React 默认屏蔽 XSS 攻击. 不过 在 Vue 使用 v-html 会有 xss 攻击的危险. react 的 dangerouslySetInnerHTML 也是一样</p> <h2 id="csrf-跨站请求伪造"><a href="#csrf-跨站请求伪造" class="header-anchor">#</a> CSRF 跨站请求伪造</h2> <ul><li>cross site request forgery 跨站请求伪造</li> <li>手段: 黑客诱导用户去访问另一个网站的接口, 伪造请求.</li> <li>预防: 严格的跨域限制 + 验证码机制</li></ul> <p>例如: 登录邮箱,邮箱有封邮件,里面有个广告引导你去打开.当你打开了攻击就完成了.
登录邮箱后会设置 cookie, 当你打开页面后会访问 gmail 的服务(接口), 自动把你的邮件转发到另一个邮箱.</p> <p>服务端严格控制跨域检查,或者有危险的操作增加二维码短信等验证方式二次确认</p> <h3 id="详细过程"><a href="#详细过程" class="header-anchor">#</a> 详细过程</h3> <ul><li>用户登录的 A 网站有了 cookie</li> <li>黑客诱导用户到 B 网站并发起 A 网站的请求</li> <li>A 网站的 API 发现有 cookie, 认为用户自己操作的</li></ul> <h3 id="语法手段"><a href="#语法手段" class="header-anchor">#</a> 语法手段</h3> <ul><li>严格的跨域请求限制, 如判断 referre(请求来源)</li> <li>为 cookie 设置 samesite 禁止跨域传递 cookie</li> <li>关键接口更加二次验证(短信验证码等方式)</li></ul> <h2 id="点击劫持"><a href="#点击劫持" class="header-anchor">#</a> 点击劫持</h2> <ul><li>click jacking</li> <li>手段: 诱导界面上蒙一个透明的 iframe, 诱导用户点击</li> <li>预防: 让 iframe 不能跨域加载</li></ul> <p><img src="/docs/assets/img/%E7%82%B9%E5%87%BB%E5%8A%AB%E6%8C%81.png" alt=""></p> <p>诱导用户去点抽奖,这个时候隐藏点击了关注按钮,如果你登录过这个网站,那么你就成僵尸粉了.</p> <p><img src="/docs/assets/img/click-jacking.png" alt=""></p> <h2 id="ddos-分布式拒绝服务"><a href="#ddos-分布式拒绝服务" class="header-anchor">#</a> DDOS 分布式拒绝服务</h2> <ul><li>手段: 分布式大规模的流量访问, 是服务器瘫痪</li> <li>预防: 软件层不好做, 需要硬件预防(如阿里云 WAF)</li></ul> <h2 id="sql-注入"><a href="#sql-注入" class="header-anchor">#</a> SQL 注入</h2> <ul><li>手段: 黑客提交内容时写入 SQL 语句, 破坏数据库</li> <li>预防: 处理输入内容替换特殊字符</li></ul> <p><img src="/docs/assets/img/sql%E6%B3%A8%E5%85%A5.png" alt=""></p> <h1 id="websocket-和-http-有什么区别"><a href="#websocket-和-http-有什么区别" class="header-anchor">#</a> WebSocket 和 HTTP 有什么区别?</h1> <h2 id="websocket"><a href="#websocket" class="header-anchor">#</a> WebSocket</h2> <ul><li>WebSocket 支持端对端通信</li> <li>可以由 client 发起,也可以由 server 发起</li> <li>用于: 消息通知,直播间讨论,聊天,协同编辑</li></ul> <h3 id="websocket-连接过程"><a href="#websocket-连接过程" class="header-anchor">#</a> WebSocket 连接过程</h3> <ul><li>先发起 HTTP 请求</li> <li>成功之后再升级到 WebSocket 协议再通讯</li></ul> <p><img src="/docs/assets/img/WebSocket.png" alt=""></p> <h3 id="websocket-和-http-区别"><a href="#websocket-和-http-区别" class="header-anchor">#</a> WebSocket 和 HTTP 区别</h3> <ul><li>WebSocket 协议头是 ws:// 可以双端发起请求</li> <li>WebSocket 没有跨域限制</li> <li>通过 send 和 onmessage 通讯(HTTP 通过 req 和 res )</li></ul> <p>ws 可以升级为 wss(像wss)
<img src="/docs/assets/img/wss.png" alt=""></p> <p><img src="/docs/assets/img/socketio.png" alt=""></p> <h1 id="简易聊天室"><a href="#简易聊天室" class="header-anchor">#</a> 简易聊天室</h1> <h1 id="websocket-和-http-长轮训的区别"><a href="#websocket-和-http-长轮训的区别" class="header-anchor">#</a> WebSocket 和 HTTP 长轮训的区别?</h1> <p>长轮训是之前模拟双端发送.</p> <ul><li>一般的 HTTP 请求客户端给服务端发消息,服务端接受到消息里面返回.</li> <li>长轮训是客户端给服务端发消息,服务端没有数据就先不响应,等有数据了就响应客户端,客户端接收到数据再次发生请求等待服务器有数据响应</li></ul> <p>区别</p> <ul><li>长轮训: 客户端发起请求,服务端阻塞,不立即返回</li> <li>WebSocket: 客户端可发起请求,服务端也可发起请求</li></ul> <p><img src="/docs/assets/img/websocked-http-poll.png" alt=""></p> <p>注意</p> <ul><li>http 长轮训需要处理 timeout, timeout 后重新请求</li></ul> <h1 id="浏览器输入-url-后到展示的完整过程"><a href="#浏览器输入-url-后到展示的完整过程" class="header-anchor">#</a> 浏览器输入 url 后到展示的完整过程</h1> <h2 id="网络请求"><a href="#网络请求" class="header-anchor">#</a> 网络请求</h2> <ul><li>DNS 解析,得到 IP 建立 TCP 链接(三次握手)</li> <li>浏览器发起 HTTP 请求</li> <li>收到服务器响应, 得到 HTML 源码</li></ul> <p>继续请求静态资源</p> <ul><li>解析 HTML 过程中遇到静态资源还会继续发起网络请求</li> <li>JS CSS 图片视频等</li> <li>注意: 静态资源有可能有强缓存,此时不必请求</li></ul> <h2 id="解析"><a href="#解析" class="header-anchor">#</a> 解析</h2> <p>字符串到结构化的数据</p> <ul><li>HTML 构建 DOM 树</li> <li>CSS 构建 CSSOM 树(style tree)</li> <li>两者结合形成 render tree</li></ul> <p><img src="/docs/assets/img/render.png" alt=""></p> <p>解析过程非常复杂</p> <ul><li>css 可能来自 style link</li> <li>js 可能来自内嵌/外链,还有 async defer 逻辑</li> <li>img 可能内嵌 base64 可能外链</li></ul> <h2 id="渲染"><a href="#渲染" class="header-anchor">#</a> 渲染</h2> <p>render tree 绘制到页面</p> <ul><li>计算 dom 的尺寸位置,最后绘制到页面</li> <li>遇到 js 可能会执行(参考 defer async)</li> <li>异步 css/图片加载,可能会触发重新渲染</li></ul> <p>优化解析</p> <ul><li>css 放在 head 中,不要异步加载 css</li> <li>js 放在 body 最下面(或者合理使用 defer async)</li> <li>img 提前定义 width height</li></ul> <h1 id="重绘和重排有什么区别"><a href="#重绘和重排有什么区别" class="header-anchor">#</a> 重绘和重排有什么区别?</h1> <p>动态网页随时有可能重绘重排</p> <ul><li>网页动画</li> <li>modal dialog 弹窗</li> <li>增加/删除一个元素,隐藏显示一个元素</li></ul> <h3 id="减少重排的方法"><a href="#减少重排的方法" class="header-anchor">#</a> 减少重排的方法</h3> <ul><li>集中修改样式,或直接切换 css 类</li> <li>修改之前先设置 display: none 脱离文档流</li> <li>使用 BFC 特性,不影响其他原色的位置.像盒子一样内部怎么变不影响外部</li> <li>频繁触发(resize scroll)使用节流和防抖</li> <li>使用 createDocumentFragment 批量操作 DOM</li> <li>优化动画,使用 CSS3 和 requestAnimationFrame</li></ul> <p>BFC 块级格式化上下文</p> <ul><li>block format context 块级格式化上下文</li> <li>内部的元素无论如何改动都不会影响其他的原色位置</li></ul> <h3 id="触发-bfc-的条件"><a href="#触发-bfc-的条件" class="header-anchor">#</a> 触发 BFC 的条件</h3> <ul><li>根节点 <code>&lt;html&gt;</code></li> <li>float:left/right</li> <li>overflow: auto/scroll/hidden</li> <li>display:inline-block/table/table-row/table-cell</li> <li>display:flex/grid 的直接子元素</li> <li>position:absolute/fixed</li></ul> <h1 id="如何实现网页多标签通讯"><a href="#如何实现网页多标签通讯" class="header-anchor">#</a> 如何实现网页多标签通讯</h1> <h2 id="使用-websocket-不推荐"><a href="#使用-websocket-不推荐" class="header-anchor">#</a> 使用 websocket(不推荐)</h2> <ul><li>无跨域限制</li> <li>需要服务端支持,成本高.</li></ul> <h2 id="通过-localstorage-通信"><a href="#通过-localstorage-通信" class="header-anchor">#</a> 通过 localStorage 通信</h2> <ul><li>同域的 A 和 B两个页面</li> <li>不能跨域</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 监听改变</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'storage'</span><span class="token punctuation">,</span> <span class="token parameter">event</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="通过-sharedworker-通讯"><a href="#通过-sharedworker-通讯" class="header-anchor">#</a> 通过 SharedWorker 通讯</h2> <ul><li>SharedWorker 是 WebWorker 的一种</li> <li>WebWorker 可开启子进程执行 JS, 但不能操作 DOM</li> <li>SharedWorker 可以单独开启一个进程,用于同域页面通讯</li></ul> <h1 id="网页和-iframe-如何通信"><a href="#网页和-iframe-如何通信" class="header-anchor">#</a> 网页和 iframe 如何通信</h1> <ul><li>使用 postMessage 通信</li> <li>注意跨域限制判断</li></ul> <h1 id="请描述-koa2-洋葱圈模型"><a href="#请描述-koa2-洋葱圈模型" class="header-anchor">#</a> 请描述 koa2 洋葱圈模型</h1> <ul><li>一个简约流行的nodejs框架</li> <li>通过中间件组织代码</li> <li>多个中间件以洋葱圈模型执行</li></ul> <p><img src="/docs/assets/img/koa.png" alt=""></p> <h1 id="h5-如何进行首屏优化"><a href="#h5-如何进行首屏优化" class="header-anchor">#</a> H5 如何进行首屏优化</h1> <p>路由懒加载</p> <ul><li>适用于 SPA (不适用 MPA)</li> <li>路由拆分,优先保证首页加载</li></ul> <p>服务端渲染 SSR</p> <ul><li>传统的前后端分离(SPA)渲染页面过程很复杂</li> <li>SSR 渲染页面过程简单,所以性能好</li> <li>如果是纯 H5 页面, SSR 是性能优化的终极方案</li></ul> <p>APP 预取</p> <ul><li>如果 H5 在 APP 的 webview 中展示,可以使用 APP 预取</li> <li>用户访问列表页, APP 预加载文章首屏内容</li> <li>用户进入 H5 页, 直接从 APP 中获取内容,瞬间展示首屏</li></ul> <p>分页</p> <ul><li>针对列表页</li> <li>默认只展示第一页</li> <li>上拉加载更多</li></ul> <p>图片懒加载 lazyload</p> <ul><li>针对详情页面</li> <li>默认只展示文本内容,然后触发图片懒加载</li> <li>注意: 提前设置图片尺寸,尽量只重绘不重排</li></ul> <p>Hybrid</p> <ul><li>提前将 HTML JS CSS 下载到 APP 内部</li> <li>在 APP 的 webview 中使用 file:// 协议加载页面文件</li> <li>再用 ajax 获取内容并展示(也结合 App 预取)</li></ul> <p>答案</p> <ul><li>路由懒加载</li> <li>服务端渲染</li> <li>APP 预取</li> <li>分页</li> <li>图片懒加载</li> <li>Hybird</li></ul> <h2 id="扩展"><a href="#扩展" class="header-anchor">#</a> 扩展</h2> <ul><li>性能优化要配合分析/统计/评分等,做了事情要有结果</li> <li>性能优化也需要配合体验,如骨架屏, loading 动画等</li></ul> <h1 id="后端一次性返回-10w-条数据你该如何渲染"><a href="#后端一次性返回-10w-条数据你该如何渲染" class="header-anchor">#</a> 后端一次性返回 10W 条数据你该如何渲染?</h1> <h2 id="设计不合理"><a href="#设计不合理" class="header-anchor">#</a> 设计不合理</h2> <ul><li>后端返回 10W 数据技术方案本身设计就不合理</li> <li>主动沟通此事.</li> <li>如果非要这么做,那继续找方案</li></ul> <p>浏览器能否处理 10W 条数据</p> <ul><li>加载是没问题的,视频都可以加载,10w数据不算啥</li> <li>js 处理也没问题</li> <li>一次性渲染到 DOM 会非常的卡顿</li></ul> <p>自定义中间层</p> <ul><li>自定义 nodejs 中间层,获取并拆分这 10W 条数据</li> <li>前端对接 nodejs 中间层, 而不是服务端</li> <li>成本高</li></ul> <p>虚拟列表</p> <ul><li>只渲染可视区的 DOM</li> <li>其他隐藏区域不显示, 只用 <code>&lt;div&gt;</code> 撑起高度</li> <li>随着浏览器的滚动,创建和销毁 DOM</li></ul> <p><img src="/docs/assets/img/vlist.png" alt=""></p> <p>虚拟列表第三方 lib</p> <ul><li>虚拟列表实现起来非常复杂,可以使用第三方库</li> <li>vue-virtual-scroll-list</li> <li>react-virtualiszed</li></ul> <p>划重点</p> <ul><li>主动沟通表达设计不合理</li> <li>后端的问题首先用后端的思维解决问题, --- 中间层</li> <li>虚拟列表只是无奈的选择,实现复杂而效果不一定好(低配手机)</li></ul> <h1 id="前端常用的设计模式有哪些-使用场景是什么"><a href="#前端常用的设计模式有哪些-使用场景是什么" class="header-anchor">#</a> 前端常用的设计模式有哪些? 使用场景是什么</h1> <p>[JavaScript 设计模式系统讲解与应用]</p> <p>设计原则</p> <ul><li>最重要的: 开放封闭原则</li> <li>对扩展开发</li> <li>对修改封闭</li></ul> <p>工厂模式</p> <ul><li>用工厂函数创建实例, 隐藏 new</li> <li>如 React createElement 函数</li></ul> <p>单例模式</p> <ul><li>全局唯一实例</li> <li>如 Vuex Redux 的 store</li> <li>如 全局唯一的 dialog modal</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">SingleTon</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> instance<span class="token operator">:</span> SingleTon <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">=</span> <span class="token keyword">null</span>
  <span class="token keyword">private</span> <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> SingleTon <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> instance
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">SingleTon</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> s <span class="token operator">=</span> SingleTon<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 

</code></pre></div><p>代理模式</p> <ul><li>使用者不能直接访问对象,而是访问一个代理层</li> <li>在代理层可以监听 get set 做很多事情</li> <li>例如 ES6 的 Proxy 实现 Vue3 的响应式</li></ul> <p>观察者模式
事件监听大量用的代理模式</p> <p>发布订阅
事件总线</p> <p>装饰器模式</p> <ul><li>原来功能不变,增加一些新功能(AOP 切面编程)</li> <li>ES 和 Typescript 的 Decorator 语法</li> <li>类装饰器,方法装饰器</li></ul> <h1 id="观察者模式和发布订阅模式的区别"><a href="#观察者模式和发布订阅模式的区别" class="header-anchor">#</a> 观察者模式和发布订阅模式的区别</h1> <p><img src="/docs/assets/img/%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F.png" alt=""></p> <h2 id="观察者模式"><a href="#观察者模式" class="header-anchor">#</a> 观察者模式</h2> <ul><li>观察者模式一个主题绑定一个事件,</li> <li>观察者模式 subject 和 observer 直接绑定没有中间媒介</li> <li>比如 addEventlistener 绑定事件</li></ul> <h2 id="发布订阅"><a href="#发布订阅" class="header-anchor">#</a> 发布订阅</h2> <ul><li>publiser 和 observer 互不相识,需要中间媒介 event channel</li> <li>如 eventbus 自定义事件</li></ul> <h1 id="你在实际工作做过哪些-vue-的优化"><a href="#你在实际工作做过哪些-vue-的优化" class="header-anchor">#</a> 你在实际工作做过哪些 vue 的优化</h1> <p>答案</p> <ul><li>v-if 和 v-show</li> <li>v-for 使用 key</li> <li>使用计算属性进行缓存</li> <li>keep-alive 缓存组件</li> <li>异步组件</li> <li>路由懒加载</li> <li>服务端渲染 SSR</li></ul> <h2 id="v-if-和-v-show"><a href="#v-if-和-v-show" class="header-anchor">#</a> v-if 和 v-show</h2> <ul><li>v-if 彻底销毁组件</li> <li>v-show 使用 css 隐藏组件</li> <li>大部分情况 v-if 更好</li></ul> <h2 id="v-for-使用-key"><a href="#v-for-使用-key" class="header-anchor">#</a> v-for 使用 key</h2> <ul><li>key 不要用 index</li> <li>现在严格不算优化项目了</li></ul> <h2 id="使用计算属性进行缓存"><a href="#使用计算属性进行缓存" class="header-anchor">#</a> 使用计算属性进行缓存</h2> <ul><li>computed 有缓存特性,依赖发生变化才会重新计算</li> <li>例如 data 里面有个 消息列表, 使用 computed 计算未读消息列表</li></ul> <h2 id="keep-alive-缓存组件"><a href="#keep-alive-缓存组件" class="header-anchor">#</a> keep-alive 缓存组件</h2> <ul><li>频繁切换的组件,如 tabs</li> <li>不要乱用,缓存太多会占用内存,不好debug</li></ul> <h2 id="异步组件"><a href="#异步组件" class="header-anchor">#</a> 异步组件</h2> <ul><li>针对体积大的组件,如复杂表格/复杂表单/编辑器等</li> <li>拆包,需要的时候异步加载,不需要不加载</li> <li>减少主包体积</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineAsyncComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token function">defineAsyncComponent</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName: &quot;async-child&quot; */</span><span class="token string">'./xx.vue'</span><span class="token punctuation">)</span> <span class="token punctuation">)</span>

</code></pre></div><h2 id="路由懒加载"><a href="#路由懒加载" class="header-anchor">#</a> 路由懒加载</h2> <ul><li>项目大,拆分路由,保证首页先加载</li> <li></li></ul> <h2 id="服务端渲染-ssr"><a href="#服务端渲染-ssr" class="header-anchor">#</a> 服务端渲染 SSR</h2> <ul><li>使用 Nuxt.js</li> <li>按需优化,使用 SSR 的成本高</li></ul> <h1 id="你使用-vue-遇到过哪些坑"><a href="#你使用-vue-遇到过哪些坑" class="header-anchor">#</a> 你使用 vue 遇到过哪些坑?</h1> <h2 id="内存泄漏"><a href="#内存泄漏" class="header-anchor">#</a> 内存泄漏</h2> <ul><li>全局变量,全局事件,全局定时器,自定义事件引起的内存邪路</li></ul> <h2 id="vue2-响应式的缺陷-vue3没了"><a href="#vue2-响应式的缺陷-vue3没了" class="header-anchor">#</a> vue2 响应式的缺陷(vue3没了)</h2> <ul><li>data 新增属性需要 Vue.set</li> <li>data 删除属性需要 Vue.delete</li> <li>无法直接修改数组 arr[index] = value</li></ul> <h2 id="路由切换时-scroll-到顶部"><a href="#路由切换时-scroll-到顶部" class="header-anchor">#</a> 路由切换时 scroll 到顶部</h2> <ul><li>这个是 SPA 的通病,不仅仅是 vue</li> <li>如列表页,滚动到第二屏,点击进入详情页.</li> <li>返回列表页(此事组件重新渲染)就 scroll 到顶部了</li></ul> <h3 id="解决方法"><a href="#解决方法" class="header-anchor">#</a> 解决方法</h3> <ul><li>在列表页缓存数据和 scrollTop 值</li> <li>当再次返回列表渲染组件,执行 scrollTo(x)</li> <li>终极方案: MPA + APP WebView</li></ul> <h1 id="实际工作中做过哪些react的优化"><a href="#实际工作中做过哪些react的优化" class="header-anchor">#</a> 实际工作中做过哪些React的优化</h1> <h2 id="修改-css-模拟-v-show"><a href="#修改-css-模拟-v-show" class="header-anchor">#</a> 修改 CSS 模拟 v-show</h2> <p><img src="/docs/assets/img/v-show.png" alt=""></p> <h2 id="循环使用-key"><a href="#循环使用-key" class="header-anchor">#</a> 循环使用 key</h2> <p><img src="/docs/assets/img/loop-key.png" alt=""></p> <h2 id="使用-fragment-减少层级"><a href="#使用-fragment-减少层级" class="header-anchor">#</a> 使用 Fragment 减少层级</h2> <p><img src="/docs/assets/img/fragment.png" alt=""></p> <h2 id="jsx-中不要定义函数"><a href="#jsx-中不要定义函数" class="header-anchor">#</a> JSX 中不要定义函数</h2> <p><img src="/docs/assets/img/jsx%E4%B8%8D%E8%A6%81%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0.png" alt=""></p> <p>react 的 jsx 会被频繁执行</p> <h1 id="如何监听-vue-组件报错"><a href="#如何监听-vue-组件报错" class="header-anchor">#</a> 如何监听 vue 组件报错</h1> <h2 id="window-onerror"><a href="#window-onerror" class="header-anchor">#</a> window.onerror</h2> <ul><li>基本的全局监听所有 js 报错机制</li> <li>他是 js 级别的,识别不了 vue 组件信息</li> <li>捕捉一些 vue 监听不到的错误是可以,可以作为辅助</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// App.vue</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">msg<span class="token punctuation">,</span> source<span class="token punctuation">,</span> line<span class="token punctuation">,</span> column<span class="token punctuation">,</span> error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'window.onerror----'</span><span class="token punctuation">,</span> msg<span class="token punctuation">,</span> source<span class="token punctuation">,</span> line<span class="token punctuation">,</span> column<span class="token punctuation">,</span> error<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 这两种方案效果相同</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token parameter">event</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'window error'</span><span class="token punctuation">,</span> event<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="errorcaptured-生命周期"><a href="#errorcaptured-生命周期" class="header-anchor">#</a> errorCaptured 生命周期</h2> <ul><li>监听所有下级组件的错误</li> <li>返回 false 会阻止向上传播</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// App.vue</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function">errorCaptured</span><span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> vm<span class="token punctuation">,</span> info</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'errorCaptured----'</span><span class="token punctuation">,</span> error<span class="token punctuation">,</span> vm<span class="token punctuation">,</span> info<span class="token punctuation">)</span>

    <span class="token comment">// 返回 false 就不会再向上传播了</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="errorhandler-配置"><a href="#errorhandler-配置" class="header-anchor">#</a> errorHandler 配置</h2> <ul><li>vue 全局错误监听,所有组件错误都汇总到这里</li> <li>errorCaptured 返回 false, 不会传播到这里</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// main.js</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
app<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function-variable function">errorHandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> vm<span class="token punctuation">,</span> info</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'errorHandler----'</span><span class="token punctuation">,</span> error<span class="token punctuation">,</span> vm<span class="token punctuation">,</span> info<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="异步错误"><a href="#异步错误" class="header-anchor">#</a> 异步错误</h2> <ul><li>异步回调的错误 vue 的错误监听机制 errorHandler 监听不到</li> <li>需要 window.onerror</li></ul> <p>答案</p> <ul><li><p>errorCaptured 监听下级组件报错, 返回 false 组织向上传播</p></li> <li><p>errorHandler 监听全局 vue 组件报错</p></li> <li><p>window.onerror 监听其他 js 错 误, 比如异步/非 vue 组件错误</p></li> <li><p>实际工作中三者要结合使用</p></li> <li><p>errorCaptured 监听一些重要/有风险组件的错误</p></li> <li><p>window.onerror 和 errorHandler 候补全局监听</p></li> <li><p>Promise 为处理的 catch 需要 onunhandledrejection h</p></li></ul> <h1 id="如何同一监听-react-报错"><a href="#如何同一监听-react-报错" class="header-anchor">#</a> 如何同一监听 react 报错</h1> <h2 id="errorboundary-组件"><a href="#errorboundary-组件" class="header-anchor">#</a> ErrorBoundary 组件</h2> <ul><li>监听所有下级组件保存, 可降级展示 UI</li> <li>只监听组件渲染时报错, 不监听 DOM 事件,异步错误</li> <li>production 环境生效, dev 会直接抛出错误</li></ul> <h1 id="如果一个-h5-很慢-你该如何排查性能问题"><a href="#如果一个-h5-很慢-你该如何排查性能问题" class="header-anchor">#</a> 如果一个 H5 很慢,你该如何排查性能问题</h1> <h2 id="前端性能指标"><a href="#前端性能指标" class="header-anchor">#</a> 前端性能指标</h2> <ul><li>First Paint (FP) 第一次渲染</li> <li>First Contentful Paint (FCP) 第一次有内容渲染</li> <li>First meaningful Paint (FMP) --- 弃用了,改用 LCP</li> <li>DOMContentLoaded (DCL) DOM 内容全部加载完成</li> <li>Largest Contentfull Paint (LCP) 最大内容渲染</li> <li>Load(L)</li></ul> <h2 id="devtool"><a href="#devtool" class="header-anchor">#</a> devTool</h2> <ul><li>performance 可以查看上面性能指标,并有网页快照</li> <li>network 可以查看各个资源的加载时间</li></ul> <h2 id="lighthouse"><a href="#lighthouse" class="header-anchor">#</a> lighthouse</h2> <ul><li>非常流行的第三方性能评测工具</li> <li>支持移动端和 PC</li></ul> <h3 id="网页加载慢"><a href="#网页加载慢" class="header-anchor">#</a> 网页加载慢</h3> <ul><li>优化服务端硬件配置,使用CDN</li> <li>路由懒加载,大组件异步加载 --- 减少主包体积</li> <li>优化 HTTP 缓存策略</li></ul> <h3 id="网页渲染慢"><a href="#网页渲染慢" class="header-anchor">#</a> 网页渲染慢</h3> <ul><li><p>优化服务端接口(如ajax请求慢)</p></li> <li><p>继续分析,优化组件内部的逻辑(参考 vue react 优化)</p></li> <li><p>服务端 ssr</p></li> <li><p>性能优化是一个循序渐进的过程, 不像 bug 能一次解决</p></li> <li><p>持续跟进统计结果,再逐步分析性能瓶颈,持续优化</p></li> <li><p>使用第三方统计,如阿里云 ARMS/百度统计</p></li></ul> <h1 id="你工作经历中遇到哪些项目难点-如何解决的"><a href="#你工作经历中遇到哪些项目难点-如何解决的" class="header-anchor">#</a> 你工作经历中遇到哪些项目难点,如何解决的</h1> <ul><li>描述问题: 背景 + 现象 + 造成的影响</li> <li>问题如何被解决: 分析 + 解决</li> <li>自己的成长: 学到了什么 + 以后如何避免</li></ul> <p>问题: 编辑器只能回显 JSON 格式, 而不支持老版本的 HTML  格式
成长: 要考虑完整的输入输出 + 考虑旧版本用户 + 参考其他产品</p> <h1 id="手写系列"><a href="#手写系列" class="header-anchor">#</a> 手写系列</h1> <h2 id="手写数组的扁平化-flatten"><a href="#手写数组的扁平化-flatten" class="header-anchor">#</a> 手写数组的扁平化 flatten</h2> <ul><li>只拍平第一层</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">faltten</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> res<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> res
<span class="token punctuation">}</span>
</code></pre></div><ul><li>深度拍平</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">falttenDeep</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">'arr must be Array'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
 
  arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span> <span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
      res <span class="token operator">=</span> res<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token function">falttenDeep2</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      res <span class="token operator">=</span> res<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> res
<span class="token punctuation">}</span>
</code></pre></div><h2 id="获取详细的数据类型"><a href="#获取详细的数据类型" class="header-anchor">#</a> 获取详细的数据类型</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getType</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 1. 使用 Object 的 toString 方法输出类型. 例如: [object Number] / [object String]</span>
  <span class="token keyword">const</span> originType <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span>
  
  <span class="token comment">// 2. 从原始类型字符串中取出对应的类型 </span>
  <span class="token keyword">const</span> spaceIndex <span class="token operator">=</span> originType<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> type <span class="token operator">=</span> originType<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>spaceIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>

  <span class="token keyword">return</span> type<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="手写-new"><a href="#手写-new" class="header-anchor">#</a> 手写 new</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">customNew</span><span class="token punctuation">(</span><span class="token parameter">constructor<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 0. 类型检查</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>constructor <span class="token keyword">instanceof</span> <span class="token class-name">Function</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">'constructor must be function type'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 1.创建一个空对象, 继承 constructor 的原型</span>
  <span class="token keyword">let</span> obj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>constructor<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>
 
  <span class="token comment">// 2.将 obj 作为 this, 执行 constructor 传入参数</span>
  <span class="token function">constructor</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> args<span class="token punctuation">)</span>
  <span class="token comment">// 3.返回对象</span>
  <span class="token keyword">return</span> obj
<span class="token punctuation">}</span>
</code></pre></div></div></section> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/frontend-note/vue/pinia_base.html" class="prev">
          Pinia 的基础使用
        </a></span> <span class="next"><a href="/frontend-note/interview/vue.html">
          vue
        </a></span></p></div> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-38b5e06a data-v-7b55eae7><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#cookie" class="sidebar-link reco-side-cookie" data-v-38b5e06a>cookie</a></li><li class="level-3" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#跨域共享" class="sidebar-link reco-side-跨域共享" data-v-38b5e06a>跨域共享</a></li><li class="level-3" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#跨域传递" class="sidebar-link reco-side-跨域传递" data-v-38b5e06a>跨域传递</a></li><li class="level-3" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#cookie-本地存储" class="sidebar-link reco-side-cookie-本地存储" data-v-38b5e06a>cookie 本地存储</a></li><li class="level-3" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#现代浏览器开始禁止第三方-cookie" class="sidebar-link reco-side-现代浏览器开始禁止第三方-cookie" data-v-38b5e06a>现代浏览器开始禁止第三方 cookie</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#jwt" class="sidebar-link reco-side-jwt" data-v-38b5e06a>JWT</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#sesson-优点" class="sidebar-link reco-side-sesson-优点" data-v-38b5e06a>sesson 优点</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#session-缺点" class="sidebar-link reco-side-session-缺点" data-v-38b5e06a>session 缺点</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#jwt-有点" class="sidebar-link reco-side-jwt-有点" data-v-38b5e06a>jwt 有点</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#jwt-缺点" class="sidebar-link reco-side-jwt-缺点" data-v-38b5e06a>jwt 缺点</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#基于-cookie" class="sidebar-link reco-side-基于-cookie" data-v-38b5e06a>基于 cookie</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#sso" class="sidebar-link reco-side-sso" data-v-38b5e06a>SSO</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#http-1-0" class="sidebar-link reco-side-http-1-0" data-v-38b5e06a>HTTP 1.0</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#http-1-1" class="sidebar-link reco-side-http-1-1" data-v-38b5e06a>HTTP 1.1</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#http-2-0" class="sidebar-link reco-side-http-2-0" data-v-38b5e06a>HTTP 2.0</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#prefetch-和-preload" class="sidebar-link reco-side-prefetch-和-preload" data-v-38b5e06a>prefetch 和 preload</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#dns-prefetch-和-preconnet" class="sidebar-link reco-side-dns-prefetch-和-preconnet" data-v-38b5e06a>dns-prefetch 和 preconnet</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#xss-跨站脚本攻击" class="sidebar-link reco-side-xss-跨站脚本攻击" data-v-38b5e06a>XSS 跨站脚本攻击</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#csrf-跨站请求伪造" class="sidebar-link reco-side-csrf-跨站请求伪造" data-v-38b5e06a>CSRF 跨站请求伪造</a></li><li class="level-3" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#详细过程" class="sidebar-link reco-side-详细过程" data-v-38b5e06a>详细过程</a></li><li class="level-3" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#语法手段" class="sidebar-link reco-side-语法手段" data-v-38b5e06a>语法手段</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#点击劫持" class="sidebar-link reco-side-点击劫持" data-v-38b5e06a>点击劫持</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#ddos-分布式拒绝服务" class="sidebar-link reco-side-ddos-分布式拒绝服务" data-v-38b5e06a>DDOS 分布式拒绝服务</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#sql-注入" class="sidebar-link reco-side-sql-注入" data-v-38b5e06a>SQL 注入</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#websocket" class="sidebar-link reco-side-websocket" data-v-38b5e06a>WebSocket</a></li><li class="level-3" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#websocket-连接过程" class="sidebar-link reco-side-websocket-连接过程" data-v-38b5e06a>WebSocket 连接过程</a></li><li class="level-3" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#websocket-和-http-区别" class="sidebar-link reco-side-websocket-和-http-区别" data-v-38b5e06a>WebSocket 和 HTTP 区别</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#网络请求" class="sidebar-link reco-side-网络请求" data-v-38b5e06a>网络请求</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#解析" class="sidebar-link reco-side-解析" data-v-38b5e06a>解析</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#渲染" class="sidebar-link reco-side-渲染" data-v-38b5e06a>渲染</a></li><li class="level-3" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#减少重排的方法" class="sidebar-link reco-side-减少重排的方法" data-v-38b5e06a>减少重排的方法</a></li><li class="level-3" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#触发-bfc-的条件" class="sidebar-link reco-side-触发-bfc-的条件" data-v-38b5e06a>触发 BFC 的条件</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#使用-websocket-不推荐" class="sidebar-link reco-side-使用-websocket-不推荐" data-v-38b5e06a>使用 websocket(不推荐)</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#通过-localstorage-通信" class="sidebar-link reco-side-通过-localstorage-通信" data-v-38b5e06a>通过 localStorage 通信</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#通过-sharedworker-通讯" class="sidebar-link reco-side-通过-sharedworker-通讯" data-v-38b5e06a>通过 SharedWorker 通讯</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#扩展" class="sidebar-link reco-side-扩展" data-v-38b5e06a>扩展</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#设计不合理" class="sidebar-link reco-side-设计不合理" data-v-38b5e06a>设计不合理</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#观察者模式" class="sidebar-link reco-side-观察者模式" data-v-38b5e06a>观察者模式</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#发布订阅" class="sidebar-link reco-side-发布订阅" data-v-38b5e06a>发布订阅</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#v-if-和-v-show" class="sidebar-link reco-side-v-if-和-v-show" data-v-38b5e06a>v-if 和 v-show</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#v-for-使用-key" class="sidebar-link reco-side-v-for-使用-key" data-v-38b5e06a>v-for 使用 key</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#使用计算属性进行缓存" class="sidebar-link reco-side-使用计算属性进行缓存" data-v-38b5e06a>使用计算属性进行缓存</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#keep-alive-缓存组件" class="sidebar-link reco-side-keep-alive-缓存组件" data-v-38b5e06a>keep-alive 缓存组件</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#异步组件" class="sidebar-link reco-side-异步组件" data-v-38b5e06a>异步组件</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#路由懒加载" class="sidebar-link reco-side-路由懒加载" data-v-38b5e06a>路由懒加载</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#服务端渲染-ssr" class="sidebar-link reco-side-服务端渲染-ssr" data-v-38b5e06a>服务端渲染 SSR</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#内存泄漏" class="sidebar-link reco-side-内存泄漏" data-v-38b5e06a>内存泄漏</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#vue2-响应式的缺陷-vue3没了" class="sidebar-link reco-side-vue2-响应式的缺陷-vue3没了" data-v-38b5e06a>vue2 响应式的缺陷(vue3没了)</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#路由切换时-scroll-到顶部" class="sidebar-link reco-side-路由切换时-scroll-到顶部" data-v-38b5e06a>路由切换时 scroll 到顶部</a></li><li class="level-3" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#解决方法" class="sidebar-link reco-side-解决方法" data-v-38b5e06a>解决方法</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#修改-css-模拟-v-show" class="sidebar-link reco-side-修改-css-模拟-v-show" data-v-38b5e06a>修改 CSS 模拟 v-show</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#循环使用-key" class="sidebar-link reco-side-循环使用-key" data-v-38b5e06a>循环使用 key</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#使用-fragment-减少层级" class="sidebar-link reco-side-使用-fragment-减少层级" data-v-38b5e06a>使用 Fragment 减少层级</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#jsx-中不要定义函数" class="sidebar-link reco-side-jsx-中不要定义函数" data-v-38b5e06a>JSX 中不要定义函数</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#window-onerror" class="sidebar-link reco-side-window-onerror" data-v-38b5e06a>window.onerror</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#errorcaptured-生命周期" class="sidebar-link reco-side-errorcaptured-生命周期" data-v-38b5e06a>errorCaptured 生命周期</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#errorhandler-配置" class="sidebar-link reco-side-errorhandler-配置" data-v-38b5e06a>errorHandler 配置</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#异步错误" class="sidebar-link reco-side-异步错误" data-v-38b5e06a>异步错误</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#errorboundary-组件" class="sidebar-link reco-side-errorboundary-组件" data-v-38b5e06a>ErrorBoundary 组件</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#前端性能指标" class="sidebar-link reco-side-前端性能指标" data-v-38b5e06a>前端性能指标</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#devtool" class="sidebar-link reco-side-devtool" data-v-38b5e06a>devTool</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#lighthouse" class="sidebar-link reco-side-lighthouse" data-v-38b5e06a>lighthouse</a></li><li class="level-3" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#网页加载慢" class="sidebar-link reco-side-网页加载慢" data-v-38b5e06a>网页加载慢</a></li><li class="level-3" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#网页渲染慢" class="sidebar-link reco-side-网页渲染慢" data-v-38b5e06a>网页渲染慢</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#手写数组的扁平化-flatten" class="sidebar-link reco-side-手写数组的扁平化-flatten" data-v-38b5e06a>手写数组的扁平化 flatten</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#获取详细的数据类型" class="sidebar-link reco-side-获取详细的数据类型" data-v-38b5e06a>获取详细的数据类型</a></li><li class="level-2" data-v-38b5e06a><a href="/frontend-note/interview/interview.html#手写-new" class="sidebar-link reco-side-手写-new" data-v-38b5e06a>手写 new</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-ef99ea3e data-v-ef99ea3e><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-ef99ea3e><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-ef99ea3e></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-ef99ea3e></path></svg></div></div></div>
    <script src="/frontend-note/assets/js/app.e26fa40b.js" defer></script><script src="/frontend-note/assets/js/3.6be66244.js" defer></script><script src="/frontend-note/assets/js/1.078955e0.js" defer></script><script src="/frontend-note/assets/js/31.19b002be.js" defer></script>
  </body>
</html>
